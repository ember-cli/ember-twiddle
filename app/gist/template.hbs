{{#if session.isOpening}}
  Signing in&hellip;
{{else if session.isAuthenticated}}
  Signed in as {{session.currentUser.login}}
  <button {{action 'signOut'}}>Sign out</button>
{{else}}
  <button {{action "signInViaGithub"}}>Sign in</button>
{{/if}}


<div class="row">
  <div class="col-md-6">
    <button {{action 'addFile'}}>Add file</button>
    <button {{action 'saveGist' model}}>{{#if model.isNew}}Create{{else}}Save{{/if}}</button>
    {{#unless model.isNew}}
    <label>Revision: <span>{{model.shortRevision}}</span></label>
    <label>Gist URL: <span>{{model.url}}</span></label>
    {{/unless}}
    {{#each model.files as |file|}}
      <h2>
        <button class='pull-right' {{action 'removeFile' file}}>
          <span class="glyphicon glyphicon-remove"></span>
        </button>
        Path: {{input value=file.name}}
      </h2>

      {{ivy-codemirror
          value         = file.content
          mode          = 'javascript'
          theme         = 'solarized'
          lineNumbers   = true}}

      {{#if file.errorMessage}}
        <h2>Error Message</h2>
        <code>
          <pre>{{file.errorMessage}}</pre>
        </code>
      {{else}}
        <h2>Compiled</h2>

        <pre><code>{{file.compiled}}</code></pre>
      {{/if}}
      <hr>
    {{/each}}
  </div>
  <div class="col-md-6">
    <h2>Demo App</h2>
    {{dummy-demo-app}}
  </div>
</div>